{"version":3,"sources":["../../src/seo/log-seo-tags.ts"],"names":["Logger","headTags","logSeoTags","headingStyle","titleStyle","tag","key","val","urlKey","fetchImage","image","imageStyle","err","url","buff","arrayBufferToBase64","buffer","binary","bytes","len","index"],"mappings":"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","file":"log-seo-tags-TY72EQWZ.js","sourcesContent":["import type {CustomHeadTagObject} from './generate-seo-tags';\n\nexport default function Logger({headTags}: {headTags: CustomHeadTagObject[]}) {\n  logSeoTags(headTags);\n\n  return null;\n}\n\nconst headingStyle = 'text-transform: uppercase;';\nconst titleStyle =\n  'text-transform: uppercase; font-weight: bold; text-transform: uppercase;font-weight: bold';\n\nexport function logSeoTags(headTags: CustomHeadTagObject[]) {\n  console.log(' ');\n  console.log('%cSEO Meta Tags', `${titleStyle}`);\n  console.log(' ');\n\n  headTags.forEach((tag) => {\n    if (tag.tag === 'script') {\n      console.log(`%c• JSON LD `, headingStyle);\n\n      if (tag.children) {\n        try {\n          console.table(JSON.parse(tag.children), ['name', 'content']);\n        } catch {\n          console.log(tag.children);\n        }\n      }\n    } else {\n      console.log(`%c• ${tag.tag} `, headingStyle);\n\n      if (tag.children) {\n        if (typeof tag.children === 'string') {\n          console.log(`↳ ${tag.children}`);\n        } else {\n          try {\n            Object.entries(JSON.parse(tag.children)).map(([key, val]) =>\n              console.log(`↳ ${val}`),\n            );\n          } catch {\n            console.log(tag.children);\n          }\n        }\n      }\n\n      if (tag.props.property === 'og:image:url') {\n        const urlKey = tag.props.content as string;\n\n        fetchImage(urlKey)\n          .then((image) => {\n            const imageStyle = `font-size: 400px; padding: 10px; background: white url(${image}) no-repeat center; background-size: contain;`;\n\n            console.log(`%c• Share image preview`, headingStyle);\n            console.log('%c  ', imageStyle);\n            console.log(`↳ ${urlKey}`);\n          })\n          .catch((err) => {\n            console.error(err);\n          });\n      }\n\n      Object.entries(tag.props).map(([key, val]) => {\n        console.log(`↳ ${key} → ${val}`);\n      });\n    }\n    console.log(' ');\n  });\n}\n\nasync function fetchImage(url: string) {\n  const result = await fetch(url);\n  const data = await result.blob();\n  const buff = await data.arrayBuffer();\n  const base64String = arrayBufferToBase64(buff);\n\n  return `data:image/png;base64,${base64String}`;\n}\n\nfunction arrayBufferToBase64(buffer: ArrayBuffer) {\n  let binary = '';\n  const bytes = new Uint8Array(buffer);\n  const len = bytes.byteLength;\n\n  for (let index = 0; index < len; index++) {\n    binary += String.fromCharCode(bytes[index]);\n  }\n\n  return btoa(binary);\n}\n"]}